// THIS FILE WAS GENERATED BY `xtp-go-bindgen`. DO NOT EDIT.
package main

import (
	pdk "github.com/extism/go-pdk"
)

//go:wasmexport nd_scheduler_callback
func _NdSchedulerCallback() int32 {
	var input SchedulerCallbackInput
	if err := pdk.InputJSON(&input); err != nil {
		pdk.SetError(err)
		return -1
	}

	if err := NdSchedulerCallback(input); err != nil {
		pdk.SetError(err)
		return -1
	}

	return 0
}

// Input provided to the scheduler callback when a scheduled task fires
type SchedulerCallbackInput struct {
	// True if this is a recurring schedule (created via ScheduleRecurring),
	// false if it's a one-time schedule (created via ScheduleOneTime).
	IsRecurring bool `json:"isRecurring"`
	// The payload data that was provided when the task was scheduled.
	// Can be used to pass context or parameters to the callback handler.
	Payload string `json:"payload"`
	// The unique identifier for this scheduled task. This is either the ID
	// provided when scheduling, or an auto-generated UUID if none was specified.
	ScheduleId string `json:"scheduleId"`
}
